var haye=function(){"use strict";function e(e,n){n.add();const r=e.length;let t=0,a="name";for(;t<r;){const r=e[t++],s=r.charCodeAt(0);58===s||44===s?(a="arg",n.shiftValue()):124===s?(a="name",n.add()):"arg"===a?n.appendValue(r):n.appendKey(r,s)}return n.toJSON()}function n(e,n){n.add();const r=e.length;let t=0,a="name",s=!1;for(;t<r;){const r=e[t++],d=r.charCodeAt(0);91===d?s=!0:93===d?s=!1:61===d||44===d&&s?(a="arg",n.shiftValue()):44===d?(a="name",n.add()):"arg"===a?n.appendValue(r):n.appendKey(r,d)}return n.toJSON()}function r(){return{nodes:[],currentNode:null,add(){this.currentNode={name:"",args:[]},this.nodes.push(this.currentNode)},appendKey(e,n){32!==n&&(this.currentNode.name+=e)},appendValue(e){this.currentNode.args[this.currentNode.args.length-1]+=e},shiftValue(){this.currentNode.args.push("")},toJSON(){return this.nodes}}}function t(){return{nodes:[],currentNode:null,add(){this.currentNode={name:"",args:[]},this.nodes.push(this.currentNode)},appendKey(e,n){32!==n&&(this.currentNode.name+=e)},appendValue(e){this.currentNode.args[this.currentNode.args.length-1]+=e},shiftValue(){this.currentNode.args.push("")},toJSON(){return this.nodes.reduce((e,n)=>(e[n.name]=n.args,e),{})}}}return{fromPipe:n=>({toArray:()=>e(n,new r),toJSON:()=>e(n,new t)}),fromQS:e=>({toArray:()=>n(e,new r),toJSON:()=>n(e,new t)})}}();
